# 实战TensorFlow房价预测 

## 房价预测模型介绍

![image-20200704171817342](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704171817342.png)

![image-20200704172038525](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704172038525.png)

![image-20200704173446564](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704173446564.png)

![image-20200704174708880](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704174708880.png)

![image-20200704174826752](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704174826752.png)

![image-20200704175201071](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704175201071.png)

![image-20200704175255679](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704175255679.png)

![image-20200704175412436](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704175412436.png)



![image-20200704175548850](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704175548850.png)

![image-20200704175728826](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704175728826.png)

![image-20200704175913253](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704175913253.png)

![image-20200704175949334](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704175949334.png)

## 使用TensorFlow实现房价预测模型

![image-20200704180226525](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704180226525.png)

![image-20200704180336401](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704180336401.png)

![image-20200704180423336](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704180423336.png)

![image-20200704180726546](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704180726546.png)

![image-20200704180747788](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704180747788.png)

![image-20200704180954072](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704180954072.png)

![image-20200704181020424](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704181020424.png)

![image-20200704181309479](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704181309479.png)

![image-20200704181449442](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704181449442.png)

## 使用TensorBoard可视化模型数据流图

![image-20200704182039090](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704182039090.png)

![image-20200704182953821](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704182953821.png)

![image-20200704183316004](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704183316004.png)

![image-20200704183348476](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704183348476.png)

![image-20200704183527350](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704183527350.png)

![image-20200704183706955](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704183706955.png)

![image-20200704183730696](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704183730696.png)

![image-20200704183837396](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704183837396.png)

![image-20200704184008353](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704184008353.png)

![image-20200704184204012](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704184204012.png)

![image-20200704184400004](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704184400004.png)

![image-20200704184608109](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704184608109.png)

![image-20200704184854758](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704184854758.png)

![image-20200704185006884](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704185006884.png)

![image-20200704185308651](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704185308651.png)

## 实战TensorFlow房价预测

![image-20200704221114145](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704221114145.png)

### 数据分析与处理

![image-20200704222700639](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704222700639.png)

![image-20200704223409836](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704223409836.png)

```shell
# data0.csv
2104,399900
1600,329900
2400,369000
1416,232000
3000,539900
1985,299900
1534,314900
1427,198999
1380,212000
1494,242500
1940,239999
2000,347000
1890,329999
4478,699900
1268,259900
2300,449900
1320,299900
1236,199900
2609,499998
3031,599000
1767,252900
1888,255000
1604,242900
1962,242900
3890,259900
1100,573900
1458,464500
2526,469000
2200,475000
2637,299900
1839,349900
1000,169900
2040,314900
3137,579900
1811,285900
1437,249900
1239,229900
2132,345000
4215,549000
2162,287000
1664,368500
2238,329900
2567,314000
1200,299000
852,179900
1852,299900
1203,239500
```

![image-20200704225030442](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704225030442.png)

![image-20200704225149314](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704225149314.png)

```python
import pandas as pd
import seaborn as sns
sns.set(context="notebook", style="whitegrid", palette="dark")

df0 = pd.read_csv('data0.csv', names=['square', 'price'])
sns.lmplot('square', 'price', df0, height=6, fit_reg=False)

# 前五行数据
df0.head()     
# 全部数据
df0
# 框信息
df0.info()
```

* 多变量房价预测

```shell
# data1.csv
2104,3,399900
1600,3,329900
2400,3,369000
1416,2,232000
3000,4,539900
1985,4,299900
1534,3,314900
1427,3,198999
1380,3,212000
1494,3,242500
1940,4,239999
2000,3,347000
1890,3,329999
4478,5,699900
1268,3,259900
2300,4,449900
1320,2,299900
1236,3,199900
2609,4,499998
3031,4,599000
1767,3,252900
1888,2,255000
1604,3,242900
1962,4,242900
3890,3,259900
1100,3,573900
1458,3,464500
2526,3,469000
2200,3,475000
2637,3,299900
1839,2,349900
1000,1,169900
2040,3,314900
3137,4,579900
1811,2,285900
1437,2,249900
1239,1,229900
2132,2,345000
4215,5,549000
2162,3,287000
1664,2,368500
2238,3,329900
2567,3,314000
1200,2,299000
852,1,179900
1852,2,299900
1203,2,239500
```

![image-20200704231109925](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704231109925.png)

![image-20200704231934142](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704231934142.png)

```python
fig = plt.figure()
# 创建一个 Axes3D object
ax = plt.axes(projection='3d')
# 设置3个坐标轴的名称
ax.set_xlabel('square')
ax.set_ylabel('bedrooms')
ax.set_zlabel('price')
# 绘制 3D 散点图
ax.scatter3D( df1['bedrooms'], df1['square'], df1['price'], c=df1['price'], cmap='Reds')
```

![image-20200704232118977](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704232118977.png)

![image-20200704232139766](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704232139766.png)

![](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704232518506.png)

![image-20200704232617240](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704232617240.png)



### 创建与训练

![image-20200704232820769](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704232820769.png)

![image-20200704232950762](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704232950762.png)

![image-20200704233506516](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704233506516.png)

![image-20200704233647593](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704233647593.png)

### 可视化数据流图

* 创建与训练除了“创建会话”外，代码都复用

  ![image-20200704233951802](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704233951802.png)

  ![image-20200704234022205](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704234022205.png)

  ![image-20200704234124181](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704234124181.png)

  ![image-20200704234156229](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704234156229.png)

  ![image-20200704234526614](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704234526614.png)

  ![image-20200704234632038](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704234632038.png)

  ![image-20200704234653214](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704234653214.png)

  ![image-20200704234715945](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704234715945.png)

  ![image-20200704235400334](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704235400334.png)

![image-20200704235255399](/Users/dingyuanjie/Documents/study/github/woodyprogram/img/image-20200704235255399.png)

